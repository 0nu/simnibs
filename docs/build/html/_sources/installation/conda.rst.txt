.. _conda-install:

Install Using Conda (Advanced)
===============================

It is also possible to install SimNIBS using the `Conda <https://docs.conda.io/en/latest/>`_ package manager, 

1. Download and install the `Anaconda <https://www.anaconda.com/>`_ or the lightweight `Miniconda <https://docs.conda.io/en/latest/miniconda.html>`_ Python 3 distribution.

2. Go to the latest `SimNIBS release page <https://github.com/simnibs/simnibs/releases/latest>`_ 

3. Download the :file:`environment_*.yml` file for your operating system

4. **Windows**: Open the the *Anaconda Prompt*, which can be found in the *Star Menu*.
   **Linux** and **MacOS**: Open a terminal. Please ensure that *conda* has been added to the system path.

5. Create and activate the :code:`simnibs_env` conda environment

  .. code-block:: bash
  
     conda env create -f environment_*.yml
     conda activate simnibs_env
  
  \

6. Install SimNIBS using :code:`pip`

  .. code-block:: bash
  
     pip install -f https://github.com/simnibs/simnibs/releases/latest simnibs

  \

7. (Optional) to setup the menu icons, file associations, the MATLAB library and add SimNIBS to the system path, run the :code:`postinstall_simnibs` script, run

   * **Windows**

     .. code-block::
   
        postinstall_simnibs --copy-matlab --setup-links -d %LOCALAPPDATA%\SimNIBS

     \  

   * **Linux**

     .. code-block:: bash
   
        postinstall_simnibs --copy-matlab --setup-links -d $HOME/SimNIBS

     \  

   * **MacOS**

     .. code-block:: bash
   
        postinstall_simnibs --copy-matlab --setup-links -d $HOME/Applications/SimNIBS

     \  

   Type :code:`postinstall_simnibs -h` for more options
